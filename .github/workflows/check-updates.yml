name: check-updates
on:
  schedule:
    - cron: "* 0 * * *"
  workflow_dispatch:

env:
  NO_PRINT_PROGRESS: 1
  IGNITE: ./build/ignite
jobs:
  check-updates:
    name: check-updates
    runs-on: self-hosted
    timeout-minutes: 46000

    steps:
      - uses: actions/checkout@v1

      - name: Compile Ignite
        run: |
          make
          echo "version: experimental" > version.yml

      - name: Check Updates
        run: ./build/ignite check-updates
