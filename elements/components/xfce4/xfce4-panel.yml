id: xfce4-panel
version: 4.18.5
about: xfce4 panel

variables:
  run-autogen: false
  seperate-build-dir: false

configure: >-
  --enable-gio-unix
  --disable-debug

post-script: |-
  install -vDm 0644 /dev/stdin %{install-root}/%{sysconfdir}/xdg/xfce4/panel/default.xml << "EOF"
  <?xml version="1.0" encoding="UTF-8"?>
  <channel name="xfce4-panel" version="1.0">
    <property name="configver" type="int" value="2"/>
    <property name="panels" type="array">
      <value type="int" value="1"/>
      <property name="dark-mode" type="bool" value="false"/>
      <property name="panel-1" type="empty">
        <property name="position" type="string" value="p=6;x=0;y=0"/>
        <property name="size" type="uint" value="32"/>
        <property name="length" type="double" value="100"/>
        <property name="position-locked" type="bool" value="true"/>
        <property name="plugin-ids" type="array">
          <value type="int" value="1"/>
          <value type="int" value="2"/>
          <value type="int" value="15"/>
          <value type="int" value="11"/>
          <value type="int" value="5"/>
          <value type="int" value="6"/>
          <value type="int" value="10"/>
          <value type="int" value="7"/>
          <value type="int" value="8"/>
          <value type="int" value="12"/>
          <value type="int" value="9"/>
          <value type="int" value="13"/>
        </property>
        <property name="icon-size" type="uint" value="0"/>
      </property>
    </property>
    <property name="plugins" type="empty">
      <property name="plugin-1" type="string" value="whiskermenu">
        <property name="view-mode" type="int" value="0"/>
        <property name="launcher-icon-size" type="int" value="4"/>
        <property name="category-icon-size" type="int" value="1"/>
        <property name="menu-width" type="int" value="750"/>
        <property name="menu-height" type="int" value="700"/>
        <property name="position-search-alternate" type="bool" value="false"/>
        <property name="position-commands-alternate" type="bool" value="false"/>
        <property name="position-categories-horizontal" type="bool" value="true"/>
        <property name="position-categories-alternate" type="bool" value="true"/>
        <property name="default-category" type="int" value="2"/>
        <property name="hover-switch-category" type="bool" value="true"/>
        <property name="button-icon" type="string" value="application-menu"/>
        <property name="launcher-show-description" type="bool" value="false"/>
        <property name="profile-shape" type="int" value="2"/>
        <property name="menu-opacity" type="int" value="100"/>
      </property>
      <property name="plugin-2" type="string" value="pager">
        <property name="rows" type="uint" value="1"/>
        <property name="miniature-view" type="bool" value="false"/>
      </property>
      <property name="plugin-5" type="string" value="xkb">
        <property name="display-type" type="uint" value="2"/>
        <property name="display-name" type="uint" value="1"/>
      </property>
      <property name="plugin-6" type="string" value="notification-plugin"/>
      <property name="plugin-7" type="string" value="power-manager-plugin"/>
      <property name="plugin-8" type="string" value="pulseaudio">
        <property name="enable-keyboard-shortcuts" type="bool" value="true"/>
      </property>
      <property name="plugin-9" type="string" value="showdesktop"/>
      <property name="plugin-10" type="string" value="systray">
        <property name="icon-size" type="int" value="0"/>
        <property name="single-row" type="bool" value="true"/>
        <property name="square-icons" type="bool" value="true"/>
      </property>
      <property name="plugin-11" type="string" value="separator">
        <property name="expand" type="bool" value="true"/>
        <property name="style" type="uint" value="0"/>
      </property>
      <property name="plugin-12" type="string" value="clock">
        <property name="digital-date-font" type="string" value="IBM Plex Sans 12"/>
        <property name="digital-time-font" type="string" value="IBM Plex Sans 12"/>
        <property name="digital-layout" type="uint" value="2"/>
        <property name="digital-date-format" type="string" value="%a %b %d, %H:%M"/>
        <property name="digital-time-format" type="string" value="%H:%M"/>
        <property name="tooltip-format" type="string" value="%A %d %B %Y"/>
      </property>
      <property name="plugin-13" type="string" value="actions">
        <property name="items" type="array">
          <value type="string" value="-lock-screen"/>
          <value type="string" value="-switch-user"/>
          <value type="string" value="-separator"/>
          <value type="string" value="-suspend"/>
          <value type="string" value="-hibernate"/>
          <value type="string" value="-hybrid-sleep"/>
          <value type="string" value="-separator"/>
          <value type="string" value="-shutdown"/>
          <value type="string" value="-restart"/>
          <value type="string" value="+separator"/>
          <value type="string" value="+logout"/>
          <value type="string" value="-logout-dialog"/>
        </property>
        <property name="appearance" type="uint" value="0"/>
      </property>
      <property name="plugin-15" type="string" value="tasklist">
        <property name="flat-buttons" type="bool" value="false"/>
        <property name="grouping" type="bool" value="true"/>
        <property name="include-all-workspaces" type="bool" value="true"/>
      </property>
    </property>
  </channel>

  EOF

  install -vDm 0644 /dev/stdin %{install-root}/%{sysconfdir}/skel/.config/xfce4/panel/docklike-4.rc << "EOF"
  [user]
  pinned=xfce4-appfinder;xfce4-terminal;thunar;firefox;
  EOF

depends:
  - components/cairo.yml
  - components/xfce4/exo.yml
  - components/xfce4/garcon.yml
  - components/libwnck.yml
  - components/intltool.yml
build-depends:
  - components/vala.yml
sources:
  - https://archive.xfce.org/src/xfce/xfce4-panel/%{version:2}/xfce4-panel-%{version}.tar.bz2
# TODO: fix update url
