id: platform
version: 2.0
about: RLXOS platform components

depends:
  - components/busybox.yml
  - components/ca-certificates.yml
  - components/coreutils.yml
  - components/dbus.yml
  - components/diffutils.yml
  - components/findutils.yml
  - components/glibc.yml
  - components/grep.yml
  - components/gzip.yml
  - components/inetutils.yml
  - components/iproute2.yml
  - components/kmod.yml
  - components/less.yml
  - components/libgcc.yml
  - components/libtool.yml
  - components/locales.yml
  - components/openssh.yml
  - components/sed.yml
  - components/ohmyzsh.yml
  - components/systemd.yml
  - components/tar.yml
  - components/man-pages.yml
  - components/man-db.yml
  - components/util-linux.yml
  - components/which.yml
  - components/xz.yml
  - components/zstd.yml
  - components/release-info.yml
  - components/pam-config.yml
  - components/pciutils.yml
  - components/tzdata.yml
  - components/kbd.yml
  - components/branding.yml
  - components/ostree.yml
  - components/cups.yml
  - components/vim.yml
  - components/nano.yml
  - components/squashfs-tools.yml
  - components/wget.yml
  - components/sudo.yml
  - components/sysroot.yml
  - components/dmidecode.yml
  - components/libsmbios.yml
  - components/libgtop.yml
  - components/libwnck.yml
  - components/libnotify.yml
  - components/librsvg.yml
  - components/pulseaudio.yml
  - components/upower.yml
  - components/libnvme.yml
  - components/gstreamer.yml
  - components/e2fsprogs.yml
  - components/py/py-pip.yml

  - components/zram-generator.yml
  
  - components/plymouth.yml
  - components/fuse2.yml

  - components/parted.yml
  - components/dosfstools.yml

  - components/libconfuse.yml

  - components/xdg-desktop-portal-gtk.yml
  - components/xdg-desktop-portal-wlr.yml
  - components/xdg-dbus-proxy.yml
  - components/grub.yml
  - components/dracut.yml
  - components/zsync.yml

  - components/intel-ucode.yml

  # Components
  - components/gvfs.yml
  - components/xdg-user-dirs-gtk.yml
  - components/xdg-utils.yml
  - components/power-profiles-daemon.yml
  - components/networkmanager.yml
  - components/network-manager-applet.yml
  - components/ntfs-3g.yml

  - components/wlroots.yml
  - components/greetd.yml

  - components/wmenu.yml
  - components/foot.yml

  - kernel/linux.yml

  - system/systemd-preset.yml
  - system/etc-shells.yml
  - system/etc-skel.yml
  - system/etc-sysctl.yml
  - system/etc-default-useradd.yml

script: |-
  cmake -B %{build-dir} -S /rlxos -DTOOLCHAIN=OFF \
    -DCMAKE_INSTALL_PREFIX=%{prefix}
  
  cmake --build %{build-dir}
  DESTDIR=%{install-root} cmake --install %{build-dir}