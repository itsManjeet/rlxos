id: cracklib
version: 2.9.7
about: |
  A library used to enforce strong passwords by comparing user selected passwords to words in chosen word lists

sources:
  - https://github.com/cracklib/cracklib/releases/download/v2.9.7/cracklib-2.9.7.tar.bz2
  - https://github.com/cracklib/cracklib/releases/download/v2.9.7/cracklib-words-2.9.7.bz2

packages:
  - id: pkg
    dir: cracklib-2.9.7
    prescript: |
      sed -i "/skipping/d" util/packer.c
    
    environ:
      - PYTHON=python3
      - CPPFLAGS=-I/usr/include/python3.9

    flags:
      - id: configure
        value: >
          --with-default-dict=/usr/lib/cracklib/pw_dict