id: eudev
version: 3.2.10
about: |
  Programs for dynamic creation of device nodes

depends:
  runtime:
    - kbd
    - kmod
    - util-linux
  buildtime:
    - gperf
    
sources:
  - https://dev.gentoo.org/~blueness/eudev/eudev-3.2.10.tar.gz
  - https://gitweb.gentoo.org/proj/udev-gentoo-scripts.git/snapshot/udev-gentoo-scripts-34.tar.gz

packages:
  - id: pkg
    dir: eudev-3.2.10
    flags:
      - id: configure
        value: >
          --enable-manpages
          --disable-static

  - id: init
    dir: udev-gentoo-scripts-34
    plugin: script
    script: |
      make
      make DESTDIR=${pkgupd_pkgdir} install

      mkdir -p ${pkgupd_pkgdir}/etc/runlevels/sysinit/
      for i in udev-trigger udev udev-settle ; do
        ln -sv /etc/init.d/${i} ${pkgupd_pkgdir}/etc/runlevels/sysinit/
      done