id: org.xfce
version: 4.16
about: |
  A visually appealing and user friendly desktop environment

split: false
clean: true

depends:
  runtime:
    - dev.rlxos.core
    - xorg
    - glib
    - gobject-introspection
    - gtk
    - startup-notification
    - libgtop
    - libgudev
    - hicolor-icon-theme
    - libcanberra
    - libxklavier
    - libinput
    - libnotify
    - pcre
    - gvfs
    - libexif
    - freetype
    - gdk-pixbuf
    - gst-plugin-base
    - libjpeg-turbo
    - libgsf
    - libpng
    - poppler
    - cairo
    - libwnck
    - upower
    - networkmanager
    - desktop-file-utils
    - shared-mime-info
    - polkit-gnome
    - glade
    - vte
    - keybinder
    - fluent-icon-theme
    - fluent-gtk-theme
    - gparted
    - lightdm
    - gconf
    - fuse2
    - gtksourceview4
    - dconf
    - dbus-glib

  buildtime:
    - gcc
    - linux:headers
    - autoconf
    - automake
    - vala
    - xfce4-dev-tools

packages:
  - id: libxfce4util
    dir: libxfce4util-4.16.0
    sources:
      - https://archive.xfce.org/src/xfce/libxfce4util/4.16/libxfce4util-4.16.0.tar.bz2


  - id: xfconf
    dir: xfconf-4.16.0
    sources:
      - https://archive.xfce.org/src/xfce/xfconf/4.16/xfconf-4.16.0.tar.bz2

  - id: libxfce4ui
    dir: libxfce4ui-4.16.0
    sources:
      - https://archive.xfce.org/src/xfce/libxfce4ui/4.16/libxfce4ui-4.16.0.tar.bz2
    
    flags:
      - id: configure
        value: >
          --disable-static
          --disable-debug
          --with-vendor-info="rlxos"
          --disable-vala
  
  - id: exo
    dir: exo-4.16.1
    sources:
      - https://archive.xfce.org/src/xfce/exo/4.16/exo-4.16.1.tar.bz2

  - id: garcon
    dir: garcon-4.16.1
    sources:
      - https://archive.xfce.org/src/xfce/garcon/4.16/garcon-4.16.1.tar.bz2

  - id: tumbler
    dir: tumbler-4.16.0
    sources:
      - https://archive.xfce.org/src/xfce/tumbler/4.16/tumbler-4.16.0.tar.bz2

  - id: thunar
    dir: thunar-4.16.6
    sources:
      - https://archive.xfce.org/src/xfce/thunar/4.16/thunar-4.16.6.tar.bz2
    
    prescript: |
      sed -i "s/\tinstall-systemd_userDATA/\t/" Makefile.in
  
  - id: thunar-volman
    dir: thunar-volman-4.16.0
    sources:
      - https://archive.xfce.org/src/xfce/thunar-volman/4.16/thunar-volman-4.16.0.tar.bz2
    
  - id: appfinder
    dir: xfce4-appfinder-4.16.1
    sources:
      - https://archive.xfce.org/src/xfce/xfce4-appfinder/4.16/xfce4-appfinder-4.16.1.tar.bz2
  
  - id: panel
    dir: xfce4-panel-4.16.2
    sources:
      - https://archive.xfce.org/src/xfce/xfce4-panel/4.16/xfce4-panel-4.16.2.tar.bz2
    
    flags:
      - id: configure
        value: --disable-vala
  
  - id: power-manager
    dir: xfce4-power-manager-4.16.0
    sources:
      - https://archive.xfce.org/src/xfce/xfce4-power-manager/4.16/xfce4-power-manager-4.16.0.tar.bz2

  
  - id: settings
    dir: xfce4-settings-4.16.2
    sources:
      - https://archive.xfce.org/src/xfce/xfce4-settings/4.16/xfce4-settings-4.16.2.tar.bz2
    
    flags:
      - id: configure
        value: >
          --enable-sound-settings
          --enable-pluggable-dialogs
    
  - id: xfdesktop
    dir: xfdesktop-4.16.0
    sources:
      - https://archive.xfce.org/src/xfce/xfdesktop/4.16/xfdesktop-4.16.0.tar.bz2

  - id: xfwm4
    dir: xfwm4-4.16.1
    sources:
      - https://archive.xfce.org/src/xfce/xfwm4/4.16/xfwm4-4.16.1.tar.bz2
  
  - id: session
    dir: xfce4-session-4.16.0
    sources:
      - https://archive.xfce.org/src/xfce/xfce4-session/4.16/xfce4-session-4.16.0.tar.bz2
    
    flags:
      - id: configure
        value: >
          --disable-legacy-sm

  - id: terminal
    dir: xfce4-terminal-0.8.10
    sources:
      - https://archive.xfce.org/src/apps/xfce4-terminal/0.8/xfce4-terminal-0.8.10.tar.bz2
    
  - id: ristretto
    dir: ristretto-0.11.0
    sources:
      - https://archive.xfce.org/src/apps/ristretto/0.11/ristretto-0.11.0.tar.bz2
    flags:
      - id: configurator
        value: configure

  - id: notifyd
    dir: xfce4-notifyd-0.6.2
    sources:
      - https://archive.xfce.org/src/apps/xfce4-notifyd/0.6/xfce4-notifyd-0.6.2.tar.bz2
    
    flags:
      - id: configurator
        value: configure

  - id: mousepad
    dir: mousepad-0.5.5
    sources:
      - https://archive.xfce.org/src/apps/mousepad/0.5/mousepad-0.5.5.tar.bz2    
    flags:
      - id: configure
        value: --enable-keyfile-settings

  - id: audio-plugin
    dir: xfce4-pulseaudio-plugin-0.4.3
    sources:
      - https://archive.xfce.org/src/panel-plugins/xfce4-pulseaudio-plugin/0.4/xfce4-pulseaudio-plugin-0.4.3.tar.bz2

    flags:
      - id: configurator
        value: configure

  - id: dock-plugin
    dir: docklike-plugin-master
    sources:
      - docklike-plugin-master.tar.gz::https://github.com/nsz32/docklike-plugin/archive/refs/heads/master.tar.gz
    
    plugin: script
    script: |
      ./autogen.sh --prefix=/usr

      make
      make DESTDIR=${pkgupd_pkgdir} install
    
  - id: menu-plugin
    dir: xfce4-whiskermenu-plugin-2.5.3
    sources:
      - https://archive.be.xfce.org/src/panel-plugins/xfce4-whiskermenu-plugin/2.5/xfce4-whiskermenu-plugin-2.5.3.tar.bz2
    
    
