id: squashfs-tools
version: 4.5
about: |
  Tools for squashfs, a highly compressed read-only filesystem for Linux

depends:
  runtime:
    - lz4
    - lzo
    - xz
    - zlib
    - zstd

sources:
  - squashfs-tools-4.5.tar.gz::https://github.com/plougher/squashfs-tools/archive/refs/tags/4.5.tar.gz

packages:
  - id: pkg
    dir: squashfs-tools-4.5/squashfs-tools/
  
    plugin: script
    script: |
      make GZIP_SUPPORT=1 \
        XZ_SUPPORT=1 \
        LZO_SUPPORT=1 \
        LZMA_XZ_SUPPORT=1 \
        LZ4_SUPPORT=1 \
        ZSTD_SUPPORT=1 \
        XATTR_SUPPORT=1
      
      make install INSTALL_DIR=${pkgupd_pkgdir}/usr/bin/