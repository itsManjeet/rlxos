id: libcanberra
version: 0.30
about: |
  A small and lightweight implementation of the XDG Sound Theme Specification

depends:
  runtime:
    - alsa-lib
    - libvorbis
    - gstreamer
    - gtk
    - pulseaudio
  
sources:
  - http://0pointer.de/lennart/projects/libcanberra/libcanberra-0.30.tar.xz
  - https://www.linuxfromscratch.org/patches/blfs/svn/libcanberra-0.30-wayland-1.patch

prescript: |
  cd ${PKGUPD_WORKDIR}/src/libcanberra-0.30
  patch -Np1 -i ../libcanberra-0.30-wayland-1.patch

packages:
  - id: pkg
    dir: libcanberra-0.30
    flags:
      - id: configurator
        value: configure
        
      - id: configure
        value: --disable-oss --disable-gtk